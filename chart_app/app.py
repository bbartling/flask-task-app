from flask import Flask
from flask import render_template
from datetime import datetime
import random

app = Flask(__name__)

yesterday_forecast_data = []
yesterday_actual_data = [30339.0, 29698.6, 29953.0, 29550.933333333334, 29411.066666666666, 30059.8, 30010.933333333334, 29865.2, 29850.866666666665, 29683.133333333335, 29985.266666666666, 14783.266666666666, 11420.266666666666, 11531.933333333332, 10771.666666666666, 11173.266666666666, 11316.0, 10919.866666666667, 11656.6, 11311.0, 11328.8, 11630.733333333334, 11030.8, 11510.733333333334, 11605.466666666667, 11387.466666666667, 11840.533333333333, 11653.333333333334, 11782.733333333334, 11635.8, 21233.0, 26569.333333333332, 31051.2, 33421.666666666664, 33447.46666666667, 33342.13333333333, 33506.0, 33488.8, 33427.066666666666, 33674.46666666667, 35292.933333333334, 33587.6, 34276.8, 33382.0, 33733.73333333333, 33249.13333333333, 33289.2, 33509.666666666664, 32860.13333333333, 32787.86666666667, 33589.4, 33251.8, 33569.666666666664, 33134.933333333334, 33269.333333333336, 33677.0, 33723.26666666667, 33742.73333333333, 33255.066666666666, 33591.333333333336, 34001.333333333336, 33352.26666666667, 33838.26666666667, 33191.73333333333, 33400.333333333336, 33145.2, 33146.8, 33290.666666666664, 33799.666666666664, 33364.8, 33275.53333333333, 33321.933333333334, 33338.73333333333, 33386.933333333334, 33507.0, 33251.333333333336, 33234.13333333333, 33689.0, 33736.26666666667, 33679.26666666667, 33231.2, 33674.666666666664, 33649.86666666667, 33290.13333333333, 33379.13333333333, 33393.53333333333, 33218.666666666664, 33405.73333333333, 32281.0, 30440.266666666666, 30769.6, 29464.066666666666, 30245.066666666666, 30420.2, 30405.533333333333, 30524.69230769231, 25695.2578125, 23629.962890625, 22586.96875, 21650.11328125, 20524.640625, 19700.388671875, 19038.4140625, 18956.86328125, 18241.0078125, 17500.349609375, 16578.951171875, 15243.7001953125, 15067.52734375, 15046.8037109375, 15167.9150390625, 15015.1640625, 14992.4765625, 14904.4619140625, 14979.9013671875, 15094.59765625, 15231.3212890625, 15249.412109375, 15084.6865234375, 14919.4345703125, 14720.3603515625, 14788.591796875, 14764.5439453125, 14871.3466796875, 14942.0576171875, 15139.9853515625, 16093.90625, 16966.0703125, 18148.060546875, 18119.65234375, 17276.7265625, 16051.041015625, 15686.8935546875, 16036.263671875, 16140.7255859375, 16423.83203125, 16766.349609375, 17078.76953125, 17025.515625, 16767.98828125, 16425.51953125, 16593.955078125, 17203.6015625, 17713.564453125, 17995.853515625, 18397.00390625, 18761.703125, 18642.55078125, 18171.13671875, 17797.2265625, 17611.00390625, 17284.3984375, 17173.53515625, 17736.310546875, 18487.650390625, 19352.087890625, 20054.849609375, 20741.51953125, 21405.955078125, 21550.5, 21184.314453125, 20939.19921875, 20990.908203125, 21151.6484375, 20754.337890625, 20545.75390625, 19987.986328125, 19540.443359375, 19519.96875, 19302.01171875, 19267.1171875, 18850.791015625, 18556.462890625, 18183.21875, 17408.869140625, 17228.291015625, 17381.072265625, 17477.0703125, 17694.259765625, 18123.419921875, 18509.76953125, 18888.03125, 18751.30859375, 18230.138671875, 17918.693359375, 17625.0, 17488.525390625, 17266.375, 17319.90625, 17050.923828125, 16485.9453125, 15900.5888671875]
data = [25695.2578125, 23629.962890625, 22586.96875, 21650.11328125, 20524.640625, 19700.388671875, 19038.4140625, 18956.86328125, 18241.0078125, 17500.349609375, 16578.951171875, 15243.7001953125, 15067.52734375, 15046.8037109375, 15167.9150390625, 15015.1640625, 14992.4765625, 14904.4619140625, 14979.9013671875, 15094.59765625, 15231.3212890625, 15249.412109375, 15084.6865234375, 14919.4345703125, 14720.3603515625, 14788.591796875, 14764.5439453125, 14871.3466796875, 14942.0576171875, 15139.9853515625, 16093.90625, 16966.0703125, 18148.060546875, 18119.65234375, 17276.7265625, 16051.041015625, 15686.8935546875, 16036.263671875, 16140.7255859375, 16423.83203125, 16766.349609375, 17078.76953125, 17025.515625, 16767.98828125, 16425.51953125, 16593.955078125, 17203.6015625, 17713.564453125, 17995.853515625, 18397.00390625, 18761.703125, 18642.55078125, 18171.13671875, 17797.2265625, 17611.00390625, 17284.3984375, 17173.53515625, 17736.310546875, 18487.650390625, 19352.087890625, 20054.849609375, 20741.51953125, 21405.955078125, 21550.5, 21184.314453125, 20939.19921875, 20990.908203125, 21151.6484375, 20754.337890625, 20545.75390625, 19987.986328125, 19540.443359375, 19519.96875, 19302.01171875, 19267.1171875, 18850.791015625, 18556.462890625, 18183.21875, 17408.869140625, 17228.291015625, 17381.072265625, 17477.0703125, 17694.259765625, 18123.419921875, 18509.76953125, 18888.03125, 18751.30859375, 18230.138671875, 17918.693359375, 17625.0, 17488.525390625, 17266.375, 17319.90625, 17050.923828125, 16485.9453125, 15900.5888671875]
stamps = ['1-29-23 09:27', '1-29-23 09:42', '1-29-23 09:57', '1-29-23 10:12', '1-29-23 10:27', '1-29-23 10:42', '1-29-23 10:57', '1-29-23 11:12', '1-29-23 11:27', '1-29-23 11:42', '1-29-23 11:57', '1-29-23 12:12', '1-29-23 12:27', '1-29-23 12:42', '1-29-23 12:57', '1-29-23 13:12', '1-29-23 13:27', '1-29-23 13:42', '1-29-23 13:57', '1-29-23 14:12', '1-29-23 14:27', '1-29-23 14:42', '1-29-23 14:57', '1-29-23 15:12', '1-29-23 15:27', '1-29-23 15:42', '1-29-23 15:57', '1-29-23 16:12', '1-29-23 16:27', '1-29-23 16:42', '1-29-23 16:57', '1-29-23 17:12', '1-29-23 17:27', '1-29-23 17:42', '1-29-23 17:57', '1-29-23 18:12', '1-29-23 18:27', '1-29-23 18:42', '1-29-23 18:57', '1-29-23 19:12', '1-29-23 19:27', '1-29-23 19:42', '1-29-23 19:57', '1-29-23 20:12', '1-29-23 20:27', '1-29-23 20:42', '1-29-23 20:57', '1-29-23 21:12', '1-29-23 21:27', '1-29-23 21:42', '1-29-23 21:57', '1-29-23 22:12', '1-29-23 22:27', '1-29-23 22:42', '1-29-23 22:57', '1-29-23 23:12', '1-29-23 23:27', '1-29-23 23:42', '1-29-23 23:57', '1-30-23 00:12', '1-30-23 00:27', '1-30-23 00:42', '1-30-23 00:57', '1-30-23 01:12', '1-30-23 01:27', '1-30-23 01:42', '1-30-23 01:57', '1-30-23 02:12', '1-30-23 02:27', '1-30-23 02:42', '1-30-23 02:57', '1-30-23 03:12', '1-30-23 03:27', '1-30-23 03:42', '1-30-23 03:57', '1-30-23 04:12', '1-30-23 04:27', '1-30-23 04:42', '1-30-23 04:57', '1-30-23 05:12', '1-30-23 05:27', '1-30-23 05:42', '1-30-23 05:57', '1-30-23 06:12', '1-30-23 06:27', '1-30-23 06:42', '1-30-23 06:57', '1-30-23 07:12', '1-30-23 07:27', '1-30-23 07:42', '1-30-23 07:57', '1-30-23 08:12', '1-30-23 08:27', '1-30-23 08:42', '1-30-23 08:57', '1-30-23 09:12']

for num in yesterday_actual_data:
    new_num = num * random.random()
    yesterday_forecast_data.append(new_num)

@app.route('/')
def todays_data():
    return render_template('graph_today.html', 
                            values=data, 
                            labels=stamps)


@app.route('/yesterday')
def yesterdays_data():
    # https://codepen.io/Shokeen/pen/rywxmY
    
    return render_template('graph_yesterday.html', 
                            values=yesterday_actual_data,
                            values2=yesterday_forecast_data,
                            labels=stamps)


if __name__ == "__main__":
    app.run(host='0.0.0.0', port=5000)
